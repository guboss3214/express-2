# Express Authentication Project

Цей проект демонструє реалізацію різних функцій Express.js, включаючи:

- Аутентифікація з використанням JWT
- Керування cookies
- Перемикання теми з збереженням в cookie
- Обслуговування статичних файлів
- Використання шаблонізатора PUG
- Захищені маршрути

## Особливості

- Реєстрація користувача та вхід з використанням JWT
- Захищений маршрут для панелі керування
- Перемикання теми (світла/темна) з збереженням у cookie
- Підтримка favicon
- Адаптивний дизайн

## Пререквізити

- Node.js (версія 14 або вище)
- npm (версія 6 або вище)

## Інсталяція

1. Клонування репозиторію:
```bash
git clone <your-repository-url>
cd express-auth-project
```

2. Встановлення залежностей:
```bash
npm install
```

3. Створіть файл `.env` у кореневій директорії з наступним вмістом:
```
PORT=3000
SESSION_SECRET=your-super-secret-key
DB_PASS=your-database-password
DB_URL=mongodb+srv://<db_username>:<db_password>@cluster0.o3hw0be.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0
```

4. Додайте файл `favicon.ico` в директорію `public`

5. Особливі файли:
  - 'addUser.js' - файл для додавання користувача в базу даних ```node addUser.js <name> <email> <age>```

## Запуск додатку

Режим розробки:
```bash
npm run dev
```

Режим продакшн:
```bash
npm start
```

Додаток буде доступний за адресою `http://localhost:3000`

## Доступні маршрути

- `GET /` - Головна сторінка
- `GET /views` - Сторінка з використанням шаблонізатора EJS
- `GET /protected` - Захищений маршрут
- `GET /getInfo` - Сторінка де ви можете подивитися інформацію про користувача з бази даних
- `GET /login` - Сторінка входу
- `POST /login` - Надсилання форми входу
- `GET /register` - Сторінка реєстрації
- `POST /register` - Надсилання форми реєстрації
- `POST /theme` - Перемикання теми (світла/темна) з збереженням у cookie
- `GET /dashboard` - Захищена сторінка панелі керування (вимагає аутентифікації)

## Безпека

- JWT токени зберігаються в httpOnly cookie
- Захищені маршрути за допомогою middleware
- Надійне оброблення паролів (для реальних застосунків)

## Використані технології

- Express.js
- JWT для аутентифікації
- MongoDB для зберігання даних
- Mongoose для роботи з MongoDB
- Cookie-parser для управління cookies
- PUG шаблонізатор
- Node.js
